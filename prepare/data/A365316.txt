{
    "number": 365316,
    "data": "1,5,8,16,21,26,38,45,52,59,75,84,93,102,111,131,142,153,164,175,186,210,223,236,249,262,275,288,316,331,346,361,376,391,406,421,453,470,487,504,521,538,555,572,589,625,644,663,682,701,720,739,758,777,796,836",
    "name": "a(n) = number of visible diamonds (squares rotated by 45 degrees with diagonal 2) in the large square bounded by the parabola y=x^2 and starting from the point (0, 2n).",
    "link": [
        "Anatoliy A. Abramov, <a href=\"/A365316/a365316.jpg\">Squares and parabola visualisation</a>"
    ],
    "formula": [
        "a(n) = f(n) + a(n - 1), where f(n) = Sum_{i=size(n-1)..size(n)} 2 * i - 1 and size(n) = floor((1 + sqrt(1 + 8 * n) / 2)"
    ],
    "example": [
        "Illustration for a(3) = 16",
        "       / \\",
        "      /   \\",
        "    / \\ a / \\",
        "   /   \\ /   \\",
        " / \\ a / \\ a / \\",
        "/   \\ /   \\ /   \\",
        "\\ a / \\ a / \\ a /",
        " \\ /   \\ /   \\ /",
        "   \\ a / \\ a /",
        "    \\ /   \\ /",
        "    / \\ b / \\",
        "   /   \\ /   \\",
        "   \\ b / \\ b /",
        "    \\ /   \\ /",
        "    / \\ c / \\",
        "   /   \\ /   \\",
        "   \\ c / \\ c /",
        "    \\ /   \\ /",
        "      \\ c /",
        "       \\ /",
        "       / \\",
        "      /   \\",
        "      \\ d /",
        "       \\ /",
        "1) \"a\" squares builds from point (0, 6). Big square a has the diagonal size 3 * 2 = 6 with points (-3, 9) and (3, 9); Parabola bounds big square in points (-3, 9) and (3, 9)",
        "2) \"b\" squares builds from point(0, 4). Big square b has the diagonal size 2 * 2 = 4 with points (-2, 6) and (2, 6); Parabola bounds big square in points (-2, sqrt(6)) and (2, sqrt(6))",
        "3) \"c\" squares c's builds from point(0, 2). Big square c has the diagonal size 2 * 2 = 4 with points (-2, 4) and (2, 4); Parabola bounds big square in points (-2, 2) and (2, 2)",
        "4) \"d\" squares d's builds from point(0, 0). Big square d has the diagonal size 1 * 2 = 2 with points (-1, 1) and (1, 1); Parabola bounds big square in points (-1, 1) and (1, 1)"
    ],
    "program": [
        "(Java)",
        "import java.util.stream.IntStream;",
        "public class Main {",
        "    public static void main(String[] args) {",
        "        IntStream.rangeClosed(0, 100).forEach(it -> System.out.printf(\"%d, \", sumAllVisibleSquare(it)));",
        "    }",
        "    private static int maxSquareSize(int n) {",
        "        return (int) Math.floor((1 + Math.sqrt(1 + 8 * n)) / 2);",
        "    }",
        "    private static int sumVisibleSquares(int n) {",
        "        int upSquareSize = maxSquareSize(n);",
        "        int lowSquareSize = maxSquareSize(n - 1);",
        "        return IntStream.rangeClosed(lowSquareSize, upSquareSize).map(it -> it + (it - 1)).sum();",
        "    }",
        "    private static int sumAllVisibleSquare(int n) {",
        "        return n == 0 ? 1 : sumVisibleSquares(n) + sumAllVisibleSquare(n - 1);",
        "    }",
        "}"
    ],
    "keyword": "nonn,new",
    "offset": "0,2",
    "author": "_Anatoliy A. Abramov_, Sep 01 2023",
    "references": 0,
    "revision": 19,
    "time": "2023-09-17T03:00:58-04:00",
    "created": "2023-09-17T03:00:58-04:00"
}