{
    "number": 372101,
    "data": "0,1,3,11,1114111",
    "name": "Number of steps required to kill a hydra composed of a linear graph with n edges where, after removing the rightmost head at step s, s new heads grow to the right of the head's grandparent node (see comments).",
    "comment": [
        "To kill the hydra means to remove all of its heads, leaving only the root node.",
        "New heads are created \"to the right\" of any existing head, i.e., they are now rightmost when considering which head to remove next.",
        "The effect of this rule is that the next head to be removed is always any one of the heads closest to the root.",
        "Please note that the a(4) value reported on the Numberphile link (983038) is wrong.",
        "See the Li link for the derivation of a(5), and which is hugely too big to display.",
        "The problem can be phrased as follows. Start with a state S consisting of (v, s), where the vector v encodes the hydra and s is the next step number (if there is a next step). Initially, v starts with n ones and s = 1. At each iteration, do the following.",
        "1. If v[1] = 1 and all other v[i] = 0 then the hydra is dead and a(n) = s-1.",
        "2. Otherwise, find the least index i where v[i] >= 2, or if no such i then the greatest i where v[i] = 1.",
        "3. Decrement v[i].",
        "4. If i > 1 then increase v[i-1] by s.",
        "5. Increase s by 1 and return to step 1.",
        "See the first Corneth link for a step-by-step implementation of this procedure for a(3) and a(4).",
        "A372101 is a variation where new heads grow to the left of all existing leaves."
    ],
    "link": [
        "David A. Corneth, <a href=\"/A372101/a372101.png\">Calculation of a(3) and a(4)</a>.",
        "David A. Corneth, <a href=\"/A372101/a372101.gp.txt\">PARI program</a>.",
        "Brady Haran and Tom Crawford, <a href=\"https://www.youtube.com/watch?v=prURA1i8Qj4\">The Hydra Game</a>, Numberphile YouTube video, 2024.",
        "Calvin Li, <a href=\"https://li.cal.vin/p/hydra5\">hydra(5)</a>, 2024.",
        "Wikipedia, <a href=\"https://en.wikipedia.org/wiki/Hydra_game\">Hydra game</a>."
    ],
    "formula": [
        "a(3) = (2 + 1)*2^2 - 1 = (2*a(1) + 1)*(2^(a(1) + 1)) - 1 = 11.",
        "a(4) = (2^2^2 + 1)*2^2^2^2 - 1 = (2^^a(2) + 1)*(2^^(a(2) + 1)) - 1 = 1114111, where ^^ is Knuth's double arrow notation (tetration)."
    ],
    "example": [
        "In the following tree diagrams R is the root, N is a node and H is a head (leaf). Head chopping (leaf removal) is denoted by X.",
        "For n = 2, the sequence of the 3 choppings is:",
        ".",
        "  H        X",
        "   \\        \\",
        "    N        N   H    H   X    X",
        "     \\        \\ /      \\ /      \\",
        "      R        R        R        R",
        ".",
        "     (0)      (1)      (2)      (3)",
        ".",
        "Notes:",
        "(0) The starting configuration of the hydra.",
        "(1) The only head present is chopped off: one (because we are at step 1) new head grows from the root (the removed head's grandparent node), while the removed head's parent becomes a head.",
        "(2) There are now two heads attached to the root: one of them is chopped off, and no new heads grow (no grandparent node).",
        "(3) The remaining head is chopped off, leaving the root node: the hydra is killed.",
        ".",
        "For n = 3, the sequence of the 11 choppings is (the last 6 choppings are shown in a single diagram):",
        ".",
        "  H        X",
        "   \\        \\",
        "    N        N   H    H   X    H        H        X",
        "     \\        \\ /      \\ /      \\        \\        \\",
        "      N        N        N   H    N   H    N   X    N H H    X X X",
        "       \\        \\        \\ /      \\ /      \\ /      \\|/      \\|/",
        "        R        R        R--H     R--X     R        R--H     R--X",
        "                                                     |\\       |\\",
        "                                                     H H      X X",
        ".",
        "       (0)      (1)      (2)      (3)      (4)      (5)      (6)",
        ".",
        "Notes:",
        "(0) The starting configuration of the hydra.",
        "(1) The only head present is chopped off: one (because we are at step 1) new head grows from the removed head's grandparent node, while the removed head's parent becomes a head.",
        "(2) There are now two heads at the same distance from the root: one of them is chopped off, and two (because we are at step 2) new heads grow from the root (the removed head's grandparent node).",
        "(3) One of the two heads attached to the root is chopped off: no new heads grow (no grandparent node).",
        "(4) The other head attached to the root is chopped off: no new heads grow (no grandparent node).",
        "(5) The only head present is chopped off: five (because we are at step 5) new heads grow from the root (the removed head's grandparent node), while the removed head's parent becomes a head.",
        "(6) There are now six heads connected to the root: each head is chopped off in turn, killing the hydra."
    ],
    "mathematica": [
        "A372101[n_] := Block[{h = PadLeft[{1}, n], s = 0, i},",
        "    While[Total[h] > 0,",
        "        If[h[[1]] > 0,",
        "            s += h[[1]]; h[[1]] = 0,",
        "            i = 1; While[h[[++i]] == 0];",
        "            If[h[[i]] == 1 && i == Length[h], h = Rest[h], h[[i]]--];",
        "            h[[i-1]] += ++s;",
        "        ]]; s];",
        "Array[A372101, 5, 0]"
    ],
    "program": [
        "(PARI) \\\\ See Links"
    ],
    "xref": [
        "Cf. A180368, A372101."
    ],
    "keyword": "nonn,hard,nice,new",
    "offset": "0,3",
    "author": "_Paolo Xausa_ and _David A. Corneth_, Apr 18 2024",
    "references": 1,
    "revision": 60,
    "time": "2024-05-01T13:51:38-04:00",
    "created": "2024-05-01T13:51:38-04:00"
}